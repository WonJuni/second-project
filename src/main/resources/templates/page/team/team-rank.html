<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link
		href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&family=Roboto:ital,wght@0,100;0,400;0,900;1,300;1,700;1,900&display=swap"
		rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<style>
	#main {
		width: 70%;
		margin: 0 outo;
	

	}



	.slider {
		-webkit-appearance: none;

		width: 10%;

		height: 5px;

		border-radius: 1px;

		background: #ccc;

		outline: none;




	}



	.content-container {
		display: flex;
		
		align-items: center;
		justify-content: space-between;
		flex-wrap: nowrap;
		/* Prevents wrapping to the next line */
		width: 800px;
		
		/* Set a fixed width as needed */
		margin: 0 auto;
		/* Center the container */
		margin-left:270px;
		margin-top: 200px;
	}

	

	select {
		-moz-appearance: none;
		-webkit-appearance: none;
		appearance: none;

		font-family: "Noto Sans KR", sans-serif;
		font-size: 1rem;
		font-weight: 400;
		line-height: 1.5;

		color: #aaa;
		background-color: #111;

		padding: .6em 1.4em .5em .8em;
		margin: 0;

		border: 1px solid #aaa;
		border-radius: .5em;
		box-shadow: 0 1px 0 1px rgba(0, 0, 0, .04);
	}

	table {
		border: 1px #a39485 solid;
		font-size: 1em;
		padding: 0.8em;
		box-shadow: 0 2px 5px rgba(0, 0, 0, .25);
		width: 100%;
		text-align: center;
		margin-left: 270px;
	}



	

	thead {
		font-weight: bold;
		color: #fff;
		background: #8f8f8f;

	}

	td,
	th {
		padding: 1em .5em;
		
	
		/*테이블의 데이터 행에 대한 스타일*/
	}



	a {
		color: #73685d;

	}



	#search-button {
		padding: 10px 15px;
		background-color: #000000f5;
		margin-left: 70px;
		margin-bottom:30px;
		color: #fff;
		width: 100px;
		height: 40px;
		border: none;
		font-size: 15px;
		cursor: pointer;
		text-align: center;
		border-radius: 5px;
	}
	#value{
		margin-top:-100px ;
	}
</style>



<body>
	<div th:replace="/page/fragment/header.html :: f-head"></div>

	<div id="main">
		<div class="content-container">
			<h3>Rank</h3>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<select id="s" name="s">
				<option value="">종목 v</option>
				<option value="baseball">야구</option>
				<option value="soccer">축구</option>
				<option value="basketball">농구</option>
			</select>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<select id="s2" name="s2">
				<option value="">지역 v</option>
			</select>
			<script src="/js/mock/teamData.js"></script>
			<script type="module">
				// 시/도 옵션 추가
				const sidoSelect = document.querySelector('#s2');
				const sigunguSelect = document.querySelector('#sigungu');

				for (let key in address) {
					let option = document.createElement('option');
					option.text = key;
					sidoSelect.add(option);
				}

				function makeSigungu() {
					let sido = sidoSelect.value;
					sigunguSelect.innerHTML = '<option>시/군/구</option>';

					if (sido !== '시/도') {
						let siGunGu = address[sido];
						for (let j = 0; j < siGunGu.length; j++) {
							let option = document.createElement('option');
							option.text = siGunGu[j];
							sigunguSelect.add(option);
						}
					}
				}
			</script>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

			<input type="range" min="0" max="1000" value="0" class="custom-range" id="myRange" step="100">
			<class="form-label">팀 점수:<span id="value">
				
			</span>
			</class>



			<button type="button" id="search-button" onclick="performSearch()">검색</button>

		</div>
		

		
			<table border="1" id="teamTable">

				<thead>
					<tr>
						<th>순위</th>
						<th>종목</th>
						<th>팀</th>
						<th>지역</th>
						<th>포인트</th>
					</tr>
				</thead>

				<tbody id="tBody">

					<script src="/js/mock/team-rank.js"></script>

				</tbody>
			</table>
	

	</div>
	<script>
		var slider = document.getElementById("myRange");
		var output = document.getElementById("value");
		output.innerHTML = slider.value;

		slider.oninput = function () {
			output.innerHTML = this.value;
		}


		function displayInitialData() {
			const tableBody = document.getElementById("tBody");
			tableBody.innerHTML = ''; // Clear existing data

			teamData.forEach((row, index) => {
				addRow(tableBody, index + 1, row.name, row.area, row.points, row.sport);
			});
		}



		function performSearch() {
			const sport = document.getElementById("s").value;
			const area = document.getElementById("s2").value;
			const skill = parseInt(document.getElementById("myRange").value);

			const upperBound = skill + 100;

			const filteredData = teamData.filter((row) => {
				const isSportMatch = sport === "" || row.sport === sport;
				const isAreaMatch = area === "" || row.area === area;
				const isSkillMatch = skill === 0 || (row.points >= skill && row.points <= upperBound);

				return isSportMatch && isAreaMatch && isSkillMatch;
			});

			const tableBody = document.getElementById("tBody");
			tableBody.innerHTML = ''; // Clear existing data
			filteredData.forEach((row, index) => {
				addRow(tableBody, index + 1, row.name, row.area, row.points, row.sport);
			});
		}





		function addRow(tableBody, rowIndex, name, area, points, sport) {
			const row = document.createElement('tr');
			row.innerHTML = `
        <td>${rowIndex}</td>
         <td>${sport}</td>
        <td>${name}</td>
        <td>${area}</td>
        <td>${points}</td>
    `;
			tableBody.appendChild(row);
		}
		// 페이지 로드 시 초기 데이터 표시
		displayInitialData();
	</script>

	</script>
	</div>

</body>

</html>