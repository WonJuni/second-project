<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>Login</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous" />
	<link
		href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Noto+Sans+KR:wght@200;300;400;500;600;700;800&display=swap"
		rel="stylesheet" />
	<style>
		* {
			font-family: 'Noto Sans KR', sans-serif;
		}

		body {
			scale: 150%;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 80vh;
			overflow: hidden;
		}

		#main {
			text-align: center;
			margin-top: 5rem;
		}

		.logo {
			margin-bottom: 1.2rem;
		}

		.signUp {
			font-size: 10px;
			margin-top: 10px;
			color: #b8b8b8;
		}

		.signUp a {
			color: #111;
			text-decoration: none;
			font-weight: 600;
		}

		input[type='text'] {
			border-radius: 10px;
			padding: 8px;
			margin-bottom: 10px;
			font-size: 10px;
			border: 1.5px solid black;
			width: 200px;
		}

		input[type='password'] {
			border-radius: 10px;
			padding: 8px;
			margin-bottom: 1.5rem;
			font-size: 10px;
			border: 1.5px solid black;
			width: 200px;
		}

		.btn {
			font-size: 10px;
			margin-bottom: 0.5rem;
		}

		.error-message {
			color: red;
			font-size: 12px;
			margin-top: 5px;
		}
	</style>
	<script>
		async function login() {
			var uiId = document.getElementById('uiId').value;
			var uiPwd = document.getElementById('uiPwd').value;


			if (uiId === '' && uiPwd === '') {
				alert('아이디와 비밀번호를 입력해주세요.');
				return false;
			} else if (uiId === '') {
				alret('아이디를 입력해주세요.');
				return false;
			} else if (uiPwd === '') {
				alert('비밀번호를 입력해주세요.');
				return false;
			}

			const response = await fetch('/login', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json',
				},
				body: JSON.stringify({
					uiId: uiId,
					uiPwd: uiPwd
				}),
			});
			if (response.ok) {
				return true;
			} else {
				alert(errorMessage = '아이디나 비밀번호가 일치하지 않습니다. 다시 확인해주세요.')
				return false;
			}
		}
	</script>
</head>

<body>
	<div id="main">
		<div class="logo">
			<h3 style="font-size: 14px; font-weight: 700">Match Me If You Can</h3>
		</div>
		<div>
			<form method="post" action="/login" onsubmit="return login(); ">

				<input type="text" id="uiId" name="uiId" placeholder="아이디" /><br />
				<input type="password" id="uiPwd" name="uiPwd" placeholder="비밀번호" /><br />
				<button class="btn btn-dark" style="width: 200px; border-radius: 10px">
					로그인
				</button>
				<div id="error-message" class="error-message"></div>
			</form>
		</div>
		<div class="signUp">
			<span>계정이 없으신가요? <a href="/page/user/join">회원가입</a></span>
		</div>
	</div>
</body>

</html>